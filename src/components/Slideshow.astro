<section class="slideshow" id="slideshow">
  <div class="row">
    <img src="clf.avif" class="slideshow-image" alt="" />
    <img src="gaia.avif" class="slideshow-image" alt="" />
    <img src="pixlearth.avif" class="slideshow-image" alt="" />
    <img src="rute.webp" class="slideshow-image" alt="" />
    <img src="nyhedsbrev.avif" class="slideshow-image" alt="" />
  </div>
</section>

<style>
  .row {
    --translation-x: 0;
    display: flex;
    height: 400px;
    overflow-x: hidden;
    animation: autoSlide 30s linear infinite;
  }
  .row img {
    object-fit: cover;
    height: 100%;
  }

  @keyframes autoSlide {
    0% {
      transform: translate(0);
    }
    100% {
      transform: translate(var(--translation-x), 0);
    }
  }
</style>

<script>
  const row = document.querySelector(".row") as HTMLElement;
  const slideImages = document.querySelectorAll(".slideshow-image");

  // Update row width
  const rowWidth = slideImages.length * 100;
  row.style.width = `${rowWidth}vw`;

  const dynamicValue = rowWidth - 100;
  row.style.setProperty("--translation-x", `-${dynamicValue}vw`);
</script>
